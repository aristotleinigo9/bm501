var myQuestions = [
  {
    question: "1. You have been asked to busy 30 pieces of hand sanitizers. A \
    box of 10 pieces each is sold for \\({SAR}~{270}\\). Buying it per \
    piece wiil cost you \\({SAR}~{29.10}\\). How much savings woudl you \
    get for choosing the better option?",
    answers: {
      a: '\\({SAR}~{72.57}\\)<br>',
      b: '\\({SAR}~{8.10}\\)<br>',
      c: '\\({SAR}~{84.30}\\)<br>',
      d: '\\({SAR}~{33.00}\\)',
    },
    correctAnswer: 'd'
  },

  {
    question: "2. A sander rents for \\({$18}\\) a day. The same sander \
    sells new for \\({$220}\\). Abdulrahman thinks he will use the sander \
    for 10 days a year. How many days of renting will it take for the rental \
    cost to equal or exceed the purchase price?",
    answers: {
      a: '\\({12}~{days}\\)<br>',
      b: '\\({13}~{days}\\)<br>',
      c: '\\({22}~{days}\\)<br>',
      d: '\\({23}~{days}\\)',
    },
    correctAnswer: 'a'
  },

  {
    question: "3. Saeed and Saad share the net income of \\({SAR}~{84,000}\\) \
    from their partnership in the ratio of \\({3}:{4}\\). What \
    is Saad's share?",
    answers: {
      a: '\\({SAR}~{48,000}\\)<br>',
      b: '\\({SAR}~{36,000}\\)<br>',
      c: '\\({SAR}~{12,000}\\)<br>',
      d: '\\({SAR}~{30,000}\\)',
    },
    correctAnswer: 'b'
  },

  {
    question: "4. A car can be rented for \\({$35}\\) an hour or \
    \\({$165}\\) a day. If you need the car for 6 hours, how much \
    will you save by renting it for the day instead of 6 hours?",
    answers: {
      a: '\\({$12.00}\\)<br>',
      b: '\\({$21.00}\\)<br>',
      c: '\\({$45.00}\\)<br>',
      d: '\\({$78.00}\\)',
    },
    correctAnswer: 'c'
  },

  {
    question: "5. Yousef's total income last year was \\({SAR}~{148,320}\\). Of \
    that amount, he spent \\({SAR}~{27,240}\\) on transportation cost \
    and \\({SAR}~{25,100}\\) on clothing. What percent of his total income was \
    spent on transportion and clothing combined? Answer to the \
    nearest tenth of a percent.",
    answers: {
      a: '\\({35.3}\\%\\)<br>',
      b: '\\({35.2}\\%\\)<br>',
      c: '\\({34.3}\\%\\)<br>',
      d: '\\({34.0}\\%\\)',
    },
    correctAnswer: 'a'
  },

  {
    question: "6. At a sale, shirts are being sold at 5 for \\({SAR}~{48}\\). \
    What is the sale price per shirt?",
    answers: {
      a: '\\({SAR}~{9.20}\\)<br>',
      b: '\\({SAR}~{9.60}\\)<br>',
      c: '\\({SAR}~{10.50}\\)<br>',
      d: '\\({SAR}~{10.60}\\)',
    },
    correctAnswer: 'b'
  },

  {
    question: "7. A company budgets \\({6}\\%\\) of the previous year's \
    total revenue for utilities. The receipts from last year showed revenue of \
    \\({SAR}~{54,085,050}\\). How much will be budgeted for utilities?",
    answers: {
      a: '\\({SAR}~{50,839,947}\\)<br>',
      b: '\\({SAR}~{21,634,020}\\)<br>',
      c: '\\({SAR}~{32,451,030}\\)<br>',
      d: '\\({SAR}~{3,245,103}\\)',
    },
    correctAnswer: 'd'
  },

  {
    question: "8. Hamoud bought \\({375}\\) staplers. The staplers are \
    priced at \\({SAR}~{229.99}~per~C\\). What was the total price \
    of the staplers?",
    answers: {
      a: '\\({SAR}~{849.35}\\)<br>',
      b: '\\({SAR}~{826.35}\\)<br>',
      c: '\\({SAR}~{862.46}\\)<br>',
      d: '\\({SAR}~{682.46}\\)',
    },
    correctAnswer: 'c'
  },

  {
    question: "9. Hani needs a vacuum cleaner for 3 hours. He can rent \
    it at an hourly rate of \\({SAR}~{20}\\), at a half-day rate of \
    \\({SAR}~{45}\\), or a full-date rate of \\({SAR}~{60}\\). Which is \
    the least expensive rental rate for the task?",
    answers: {
      a: '\\({hourly}~{rate}\\)<br>',
      b: '\\({full-day}~{rate}\\)<br>',
      c: '\\({half-day}~{rate}\\)<br>',
      d: '\\({all}~{are}~{the}~{same}\\)',
    },
    correctAnswer: 'b'
  },

  {
    question: "10. Maher rents a cutting machine for a total of \
    \\({5}~{days}\\) each year. The daily rental is \\({SAR}~{35.50}\\). \
    The same cutting machine costs \\({SAR}~{456.95}\\) new. How many \
    years would it take the rental charges to equal or exceed the cost \
    of buying the cutting machine? Answer to the nearest \
    tenth of a year.",
    answers: {
      a: '\\({2.6}~{years}\\)<br>',
      b: '\\({2.5}~{years}\\)<br>',
      c: '\\({12.9}~{years}\\)<br>',
      d: '\\({12.8}~{years}\\)',
    },
    correctAnswer: 'a'
  },

  {
    question: "11. You can buy \\({2}\\) chairs for \\({SAR}~{285}\\) from \
    Store A or a set of \\({6}\\) for \\({SAR}~{846}\\) from Store B. \
    How much will you save by buying \\({12}\\) chairs from the store \
    that offers the better price?",
    answers: {
      a: '\\({SAR}~{12}\\)<br>',
      b: '\\({SAR}~{16}\\)<br>',
      c: '\\({SAR}~{18}\\)<br>',
      d: '\\({SAR}~{15}\\)',
    },
    correctAnswer: 'c'
  },

  {
    question: "12. Tamim can buy package A of four batteries for \
    \\({SAR}~{25.99}\\) or package B of two batteries for \
    \\({SAR}~{12.48}\\). Which package costs less per battery? \
    How much less per battery?",
    answers: {
      a: '\\({package}~{A;}~{SAR}~{0.38}\\)<br>',
      b: '\\({package}~{A;}~{SAR}~{0.25}\\)<br>',
      c: '\\({package}~{B;}~{SAR}~{3.38}\\)<br>',
      d: '\\({package}~{B;}~{SAR}~{0.26}\\)',
    },
    correctAnswer: 'd'
  },

  {
    question: "13. Supermarket A sells a set of of three canned pineapple at \
    a price of \\({SAR}~{15.78}\\) while Supermarket B sells two of the same \
    canned pineapple for \\({SAR}~{10.56}\\). What is the difference in the \
    unit price of the canned pineapple with the better option?",
    answers: {
      a: '\\({SAR}~{0.22}\\)<br>',
      b: '\\({SAR}~{0.02}\\)<br>',
      c: '\\({SAR}~{0.20}\\)<br>',
      d: '\\({SAR}~{0.56}\\)',
    },
    correctAnswer: 'b'
  },

  {
    question: "14. Ketchup A costs \\({SAR}~{14.89}\\) for a \
    12-ounce bottle. Ketchup B costs \\({SAR}~{27.02}\\) for a 25-ounce \
    bottle. Which ketchup costs less per ounce? How much less?",
    answers: {
      a: '\\({Kethcup}~{A;}~{SAR}~{0.13}\\)<br>',
      b: '\\({Ketchup}~{A;}~{SAR}~{1.12}\\)<br>',
      c: '\\({Ketchup}~{B;}~{SAR}~{0.12}\\)<br>',
      d: '\\({Ketchup}~{B;}~{SAR}~{1.24}\\)',
    },
    correctAnswer: 'c'
  },

  {
    question: "15. A dairy company has a promotion selling \
    three yogurts for \\({SAR}~{7.50}\\), five yogurts for \\({SAR}~{13.50}\\), \
    and four yogurts for \\({SAR}~{8.80}\\). Find the unit price of the \
    best offer.",
    answers: {
      a: '\\({SAR}~{2.15}\\)<br>',
      b: '\\({SAR}~{2.20}\\)<br>',
      c: '\\({SAR}~{2.70}\\)<br>',
      d: '\\({SAR}~{2.50}\\)',
    },
    correctAnswer: 'b'
  },


];

var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

generateQuiz(myQuestions, quizContainer, resultsContainer, submitButton);

function generateQuiz(questions, quizContainer, resultsContainer, submitButton){

  function showQuestions(questions, quizContainer){
    var output = [];
    var answers;
    for(var i=0; i<questions.length; i++){
      answers = [];
      for(choices in questions[i].answers){

        answers.push(
          '<label>'
            + '<input type="radio" name="question'+i+'" value="'+choices+'">'+ choices + '. '+ questions[i].answers[choices] + 
            '</label>'
            +'<br>'
        );

      }
      output.push(
        '<div class="question">'  + questions[i].question + '</div>' + '<div class="answers">'  + answers.join('') + '<br>' + '</div>'
      );
    }
    quizContainer.innerHTML = output.join('');

  }


  function showResults(questions, quizContainer, resultsContainer){
    var answerContainers = quizContainer.querySelectorAll('.answers');
    var userAnswer = '';
    var numCorrect = 0;
  
    for(var i=0; i<questions.length; i++){

      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      if(userAnswer===questions[i].correctAnswer){

        numCorrect++;
        answerContainers[i].style.color = 'green';
      }
      else{
        answerContainers[i].style.color = 'red';
      }
    }
    resultsContainer.innerHTML = numCorrect + ' out of ' + questions.length + " or " + (numCorrect/questions.length * 100).toFixed(2) + "%";
  }


  showQuestions(questions, quizContainer);
  
  submitButton.onclick = function(){
    showResults(questions, quizContainer, resultsContainer);
  }

}
