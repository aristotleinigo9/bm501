var myQuestions = [
  {
    question: "1. The record of a manufacturing company shows the \
    following: prime cost \\({$154,156}\\); raw materials \\({$92,392}\\); \
    direct labor \\({$61,764}\\); factory overhead \\({$29,821}\\). \
    Find the <span style = 'color:blue'> total manufacturing cost </span>.",
    answers: {
      a: '\\({$308,312}\\)<br>',
      b: '\\({$234,156}\\)<br>',
      c: '\\({$338,133}\\)<br>',
      d: '\\({$183,977}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "2. Yousef bought a used car for \\({$15,850}\\). His \
    expense for the first year were: gas and oil \\({$1,850}\\); \
    repairs \\({$350}\\); insurance \\({$780}\\); license plate \
    \\({$45}\\); and depreciation, \\({15}\\%\\). \
    Find the <span style = 'color:blue'> total cost of operating the car </span>for a year.",
    answers: {
      a: '\\({$5,402.50}\\)<br>',
      b: '\\({$6,475.00}\\)<br>',
      c: '\\({$3,025.00}\\)<br>',
      d: '\\({$10,447.50}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "3. A factory had these costs for the products \
    produced in one year: raw materials \\({$2,680,370}\\); \
    direct labor \\({$1,865,500}\\); factory overhead \\({$449,650}\\). \
    Calculate the <span style = 'color:blue'> total manufacturing cost</span> of the goods.",
    answers: {
      a: '\\({$4,370,650}\\)<br>',
      b: '\\({$4,495,520}\\)<br>',
      c: '\\({$4,355,880}\\)<br>',
      d: '\\({$4,373,140}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "4. A computer marked with a price of \\({$2,560}\\) is \
    being offered at a \\({32}\\%\\) discount. \
    What is the <span style = 'color:blue'>selling price</span> of the computer?",
    answers: {
      a: '\\({$3,379.20}\\)<br>',
      b: '\\({$819.20}\\)<br>',
      c: '\\({$1,740.80}\\)<br>',
      d: '\\({$1,971.20}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "5. Hamoud bought a car for \\({$75,000}\\). His \
    expense for the first year were: gas and oil \\({$160}\\); \
    repairs \\({$475}\\); insurance \\({$650}\\); license plate \
    \\({$105}\\); and depreciation, \\({20}\\%\\). \
    Find the <span style = 'color:blue'> total cost of operating the car </span>for a year.",
    answers: {
      a: '\\({$15,000}\\)<br>',
      b: '\\({$58,610}\\)<br>',
      c: '\\({$16,390}\\)<br>',
      d: '\\({$58,610}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "6. An invoice for \\({$3,550}\\) dated \\({Jan.14}\\) has credit term of \
    \\({3/10}\\), <span style='font-style:italic'>N/EOM</span>. When is the last day of payment?",
    answers: {
      a: '\\({Jan.31}\\)<br>',
      b: '\\({Jan.24}\\)<br>',
      c: '\\({Jan.30}\\)<br>',
      d: '\\({Jan.17}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "7. An invoice totalling \\({$5,900}\\) was paid within the \
    discount period. The amount paid was \\({$5,715}\\). What was the \
    rate of cash discount?",
    answers: {
      a: '\\({4.16}\\%\\)<br>',
      b: '\\({3.14}\\%\\)<br>',
      c: '\\({93.14}\\%\\)<br>',
      d: '\\({96.86}\\%\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "8. Which of the following covers damage to other people's \
    property, including their vehicles?",
    answers: {
      a: 'Bodily Injury',
      b: 'Collision',
      c: 'Property Damage',
      d: 'Comprehensive Damage'
    },
    correctAnswer: 'c'
  },

  {
    question: "<h4>9. Hassan insures the car the he drives to work with the following \
    coverage: $25/50000 bodily injury; \
    $50,000 property damage; $250 deductible collision; and \
    $100 deductible comprehensive. Using the premiums table below, \
    what will be Hassan's annual car insurance premium?</h4> <img src='images/1_premium.png' width='500' height='425'>",
    answers: {
      a: '\\({$664.85}\\)<br>',
      b: '\\({$676.28}\\)<br>',
      c: '\\({$782.95}\\)<br>',
      d: '\\({$829.27}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "10. The credit terms of an invoice dated July is 3/10 N/30. The total amount \
    due on the invoice is \\({$4,160}\\). Find the cash discount and \
    cash price if it was paid within the discount period.",
    answers: {
      a: '\\({$15,000}~{-}~{$2,192.00}\\)<br>',
      b: '\\({416.00}~{-}~{$3,744.00}\\)<br>',
      c: '\\({$124.80}~{-}{$4,035.20}\\)<br>',
      d: '\\({No}~{discount}~{-}~{$4,160}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "<h4>11. To ship freight to destination zone C, \
    a shipping company charges the following rates based on \
    weight. </h4> <img src='images/2_freight.png' width='500' height='200'> <h4>What is \
    the freight charge to ship a 230-kg package to zone C if \\({15}\\%\\) is \
    applied to shipping cost?</h4>",
    answers: {
      a: '\\({SAR}~{1,811.25}\\)<br>',
      b: '\\({SAR}~{1,150.000}\\)<br>',
      c: '\\({SAR}~{1,736.50}\\)<br>',
      d: '\\({SAR}~{1,725.00}\\)'
    },
    correctAnswer: 'd'
  },
  
  {
    question: "12. A factory had these costs for the products \
    produced in one year: raw materials \\({$825,190}\\); \
    direct labor \\({$235,100}\\); factory overhead \\({335,540}\\). \
    What was the <span style = 'color:blue'>prime cost</span> of the goods produced?",
    answers: {
      a: '\\({$1,160,730}\\)<br>',
      b: '\\({$1,060,290}\\)<br>',
      c: '\\({$2,904,950}\\)<br>',
      d: '\\({$1,395,830}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "13. Which of the following covers damage to your liabiliy \
    for injury to others?",
    answers: {
      a: 'Bodily Injury',
      b: 'Collision',
      c: 'Property Damage',
      d: 'Comprehensive Damage'
    },
    correctAnswer: 'a'
  },

  {
    question: "14. A hardware company issues a purchase order for \\({250}\\) \
    corrugated GI sheets a month. The estimated cost of issuing the \
    purchase order is \\({60}\\%\\) of the company's employee costs of \
    \\({SAR}~{8,350}\\); \\({SAR}~{54}\\) an hour for three hours \
      handling of incoming stock; \\({15}\\%\\) of overhead cost of \
      \\({SAR}~{4,895}\\). What is the <span style = 'color:blue'> average cost of \
      issuing a purchase order </span>?",
    answers: {
      a: '\\({SAR}~{5,010.00}\\)<br>',
      b: '\\({SAR}~{5,906.25}\\)<br>',
      c: '\\({SAR}~{26.32}\\)<br>',
      d: '\\({SAR}~{23.63}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "15. A steel company issues \\({12,000}\\) \
    stock orders for corrugated GI sheets a year. The company's estimated \
    yearly costs of keeping stocks are: warehouse employees' \
    salaries, \\({SAR}~{185,362}\\); warehouse overhead, \\({SAR}~{28,000}\\); \
    and damaged inventory, \\({SAR}~{6,842}\\). What is the <span style = 'color:blue'> total \
    carrying cost of the inventory</span>?",
    answers: {
      a: '\\({SAR}~{195,350}\\)<br>',
      b: '\\({SAR}~{232,204}\\)<br>',
      c: '\\({SAR}~{220,204}\\)<br>',
      d: '\\({SAR}~{183,503}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "16. A study table with a list price of \\({$345}\\) is offered \
    to a retailer for \\({$148}\\). What rate of \
    trade discount is offered? Answer to the nearest percent.",
    answers: {
      a: '\\({56}\\%\\)<br>',
      b: '\\({57}\\%\\)<br>',
      c: '\\({51}\\%\\)<br>',
      d: '\\({53}\\%\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "<h4>17. Leena insured her car for pleasure use only. \
    She wants the lowest coverage limits for Bodily Injury and Property Damage; \
    $100 deductible for Collision and Comprehensive. Calculate the annual \
    premium she will pay. Refer to the table below.</h4> <img src='images/1_premium.png' width='500' height='425'>",
    answers: {
      a: '\\({$861.66}\\)<br>',
      b: '\\({$716.90}\\)<br>',
      c: '\\({$804.66}\\)<br>',
      d: '\\({$716.89}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "18. An invoice dated May 20 has credit terms \
    3/15 1/30 N/45. Find the discount dates and due date of the invoice.",
    answers: {
      a: 'May 4 - June 17 - July 2<br>',
      b: 'May 4 - June 18 - July 3<br>',
      c: 'June 4 - June 19 - July 4<br>',
      d: 'June 4 - June 20 - July 5'
    },
    correctAnswer: 'c'
  },

  {
    question: "19. Which of the following covers damage or loss to your \
    vehicle from fire, theft, vandalism, hail, and other causes?",
    answers: {
      a: 'Bodily Injury',
      b: 'Collision',
      c: 'Property Damage',
      d: 'Comprehensive Damage'
    },
    correctAnswer: 'd'
  },

  {
    question: "20. A dish washer has a list price of \\({SAR}~{2,720}\\). \
    At a trade discount rate of \\({37.5}\\%\\), what would be the invoice \
    price for 25 dish washers?",
    answers: {
      a: '\\({SAR}~{862.46}\\)<br>',
      b: '\\({SAR}~{826.35}\\)<br>',
      c: '\\({SAR}~{682.46}\\)<br>',
      d: '\\({SAR}~{849.35}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "<h4>21. A company shipped a package that weighs \
    12 pounds (lb) to Zone 7. Insurance cost $5.50. What is the total \
    shipping cost? Use the shipping table below.</h4> <img src='images/3_freight.png' width='500' height='425'>",
    answers: {
      a: '\\({$35.50}\\)<br>',
      b: '\\({$33.55}\\)<br>',
      c: '\\({$36.25}\\)<br>',
      d: '\\({$27.75}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "22. An invoice for \\({SAR}~{7,600}\\) was created \
    on January 15. The credit terms are 8/5, 6/10, 3/15, n/30. Find the \
    amount to be paid if the invoice is paid on January 27.",
    answers: {
      a: '\\({SAR}~{7,898}\\)<br>',
      b: '\\({SAR}~{7,372}\\)<br>',
      c: '\\({SAR}~{6,992}\\)<br>',
      d: '\\({SAR}~{7,144}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "<h4>23. Thamer's car is insured for business. He chooses \
    the highest coverage limit for bodily injury and \
    property damage and $100 deductible for both collision and comprehensive. \
    What is his annual premium? Refer to the table below.</h4> <img src='images/1_premium.png' width='500' height='425'>",
    answers: {
      a: '\\({$980.12}\\)<br>',
      b: '\\({$739.84}\\)<br>',
      c: '\\({$1,064.50}\\)<br>',
      d: '\\({$1,108.09}\\)'
    },
    correctAnswer: 'd'
  },
  
  {
    question: "24. When is the discount rate and the due date of the \
    invoice by referring to this information: credit terms 1/15 N/30; \
    invoice date Nov. 6?",
    answers: {
      a: 'Nov. 21 and Dec. 6<br>',
      b: 'Nov. 21 and Dec. 7<br>',
      c: 'Nov. 20 and Dec. 6<br>',
      d: 'Nov. 20 and Dec. 7'
    },
    correctAnswer: 'a'
  },

  {
    question: "25. Hussein shipped a parcel that weighs 8.4 kg. The postal \
    service charges \\({SAR}~{35.65}\\) per kg,of fraction thereof. \
    Calculate the total shipment cost with \\({5}\\%\\) tax applied.",
    answers: {
      a: '\\({SAR}~{420.00}\\)<br>',
      b: '\\({SAR}~{336.89}\\)<br>',
      c: '\\({SAR}~{314.43}\\)<br>',
      d: '\\({SAR}~{299.46}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "26. Which of the following covers damage to your own motor vehicle?",
    answers: {
      a: 'Bodily Injury',
      b: 'Collision',
      c: 'Property Damage',
      d: 'Comprehensive Damage'
    },
    correctAnswer: 'b'
  },

  {
    question: "<h4>27. Use the table below to find the total \
    annual cost of a truck.</h4> <img src='images/4_truck.png' width='700' height='125'> <h4>",
    answers: {
      a: '\\({SAR}~{72,245}\\)<br>',
      b: '\\({SAR}~{17,755}\\)<br>',
      c: '\\({SAR}~{11,165}\\)<br>',
      d: '\\({SAR}~{22,755}\\)'
    },
    correctAnswer: 'd'
  },

];

var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

generateQuiz(myQuestions, quizContainer, resultsContainer, submitButton);

function generateQuiz(questions, quizContainer, resultsContainer, submitButton){

  function showQuestions(questions, quizContainer){
    var output = [];
    var answers;
    for(var i=0; i<questions.length; i++){
      answers = [];
      for(choices in questions[i].answers){

        answers.push(
          '<label>'
            + '<input type="radio" name="question'+i+'" value="'+choices+'">'+ choices + '. '+ questions[i].answers[choices] + 
            '</label>'
            +'<br>'
        );

      }
      output.push(
        '<div class="question">'  + questions[i].question + '</div>' + '<div class="answers">'  + answers.join('') + '<br>' + '</div>'
      );
    }
    quizContainer.innerHTML = output.join('');

  }


  function showResults(questions, quizContainer, resultsContainer){
    var answerContainers = quizContainer.querySelectorAll('.answers');
    var userAnswer = '';
    var numCorrect = 0;
  
    for(var i=0; i<questions.length; i++){

      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      if(userAnswer===questions[i].correctAnswer){

        numCorrect++;
        answerContainers[i].style.color = 'green';
      }
      else{
        answerContainers[i].style.color = 'red';
      }
    }
    resultsContainer.innerHTML = numCorrect + ' out of ' + questions.length + " or " + (numCorrect/questions.length * 100).toFixed(2) + "%";
  }


  showQuestions(questions, quizContainer);
  
  submitButton.onclick = function(){
    showResults(questions, quizContainer, resultsContainer);
  }

}
