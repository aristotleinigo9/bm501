var myQuestions = [
  {
    question: "1. Saeed signed \\({$15,000}\\), 18-month simple interest installment \
    loan at \\({6}\\%\\) interest. The monthly payments were \\({$873.48}\\). \
    Find the interest on the second month.",
    answers: {
      a: '\\({$71.01}\\)<br>',
      b: '\\({$75.00}\\)<br>',
      c: '\\({$798.48}\\)<br>',
      d: '\\({$802.47}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "2. Find the amount dues on a bank of \\({$890}\\) \
    for \\({90}\\) days at \\({13}\\%\\).",
    answers: {
      a: '\\({$819.92}\\)<br>',
      b: '\\({$285.29}\\)<br>',
      c: '\\({$289.25}\\)<br>',
      d: '\\({$918.93}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "3. Esteban borrowed \\({$6,400}\\) on a one-year simple \
    interest loan at \\({12}\\%\\). The monthly payments were \\({$568.63}\\). Calculate \
    the amount of <span style = 'color:red'>interest</span> for the first month.",
    answers: {
      a: '\\({$504.63}\\)<br>',
      b: '\\({$58.95}\\)<br>',
      c: '\\({$64.00}\\)<br>',
      d: '\\({$5,895.37}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "4. Esteban borrowed \\({$6,400}\\) on a one-year simple \
    interest loan at \\({12}\\%\\). The monthly payments were \\({$568.63}\\). Calculate \
    the amount <span style = 'color:green'>applied to principal</span> for the first month.",
    answers: {
      a: '\\({$504.63}\\)<br>',
      b: '\\({$58.95}\\)<br>',
      c: '\\({$64.00}\\)<br>',
      d: '\\({$5,895.37}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "5. Ali borrowed \\({$2,400}\\) on a one-year simple \
    interest loan at \\({15}\\%\\). The monthly payments were \\({$216.62}\\). \
    On the first month, calculate the following: <li> amount of <span style = 'color:red'> interest </span> </li> \
    <li> the amount <span style = 'color:green'>applied to principal</span></li> \
     <li> the <span style = 'color:blue'>balance</span> of the loan.</li>",
    answers: {
      a: '\\({$30.00}~~~~~{$188.95}~~~~~{$2,024.38}\\)<br>',
      b: '\\({$30.00}~~~~~{$216.62}~~~~~{$2,213.38}\\)<br>',
      c: '\\({$30.00}~~~~~{$186.62}~~~~~{$2,213.38}\\)<br>',
      d: '\\({$30.00}~~~~~{$184.62}~~~~~{$2,213.38}\\)<br>'
    },
    correctAnswer: 'c'
  },

  {
    question: "6. Find the <span style = 'color:purple'>banker's interest</span> on a loan of \\({$980}\\) \
    for \\({95}\\) days at \\({12}\\%\\). ",
    answers: {
      a: '\\({$30.61}\\)<br>',
      b: '\\({$93.17}\\)<br>',
      c: '\\({$31.03}\\)<br>',
      d: '\\({$117.60}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "7. Bandar borrowed \\({SAR}~{23,500}\\) for \\({16}\\) months \
    from his bank. He signed a promisory note that \\({8}\\%\\) interest. \
    Find the amount due on the maturity date. ",
    answers: {
      a: '\\({SAR}~{437.26}\\)<br>',
      b: '\\({SAR}~{7,562.74}\\)<br>',
      c: '\\({SAR}~{8,437.26}\\)<br>',
      d: '\\({SAR}~{5,550.78}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "8. Yazeed borrowed \\({SAR}~{8,000}\\) for \\({285}\\) days \
    He will pay at <span style = 'color:purple'>exact interest</span> with \
    annual interest rate of \\({7}\\%\\). Find the amount due by the \
    maturity date. ",
    answers: {
      a: '\\({SAR}~{2,506.67}\\)<br>',
      b: '\\({SAR}~{30,080.00}\\)<br>',
      c: '\\({SAR}~{20,993.33}\\)<br>',
      d: '\\({SAR}~{26,006.67}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "9. Find the <span style = 'color:purple'>exact interest</span> on \\({$550}\\) \
    for \\({28}\\) days at \\(9{1\\over 2}\\%\\). ",
    answers: {
      a: '\\({$1.46}\\)<br>',
      b: '\\({$4.01}\\)<br>',
      c: '\\({$4.06}\\)<br>',
      d: '\\({$3.99}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "10. On April 6, Abdulraof borrowed \\({SAR}~{4,000}\\) signing \
    a promissory note that carries a \\({9}\\%\\) intereest which is payable \
    in \\({8}\\) months at \\({SAR}~{517.02}\\) monthly payments. \
    Find the <span style = 'color:green'> amount applied to principal </span> for \
    the second month. ",
    answers: {
      a: '\\({SAR}~{487.02}\\)<br>',
      b: '\\({SAR}~{498.06}\\)<br>',
      c: '\\({SAR}~{490.67}\\)<br>',
      d: '\\({SAR}~{494.35}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "11. On March 6, Saeed borrowed \\({SAR}~{4,000}\\) signing \
    a promissory note that carries a \\({9}\\%\\) intereest which is payable \
    in \\({4}\\) months at \\({SAR}~{1,018.82}\\) monthly payments. \
    Find Saeed's <span style = 'color:blue'> balance </span> after the \
    second monthly payment. ",
    answers: {
      a: '\\({SAR}~{2,014.94}\\)<br>',
      b: '\\({SAR}~{996.24}\\)<br>',
      c: '\\({SAR}~{3,011.18}\\)<br>',
      d: '\\({SAR}~{1,003.71}\\)'
    },
    correctAnswer: 'a'
  },
  
  {
    question: "12. Noura signed a 180-day note for \\({SAR}~{15,250}\\). He will \
    pay the loan when due with interest at \\({15}\\%\\) using \
    banker's year. How much interest she will pay?",
    answers: {
      a: '\\({SAR}~{16,393.75}\\)<br>',
      b: '\\({SAR}~{1,143.75}\\)<br>',
      c: '\\({SAR}~{2,287.50}\\)<br>',
      d: '\\({SAR}~{1,128.08}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "13. A loan amounting to \\({SAR}~{105,000}\\) is to be \
    repaid in monthly installments of \\({SAR}~{3,109.37}\\) for \
    \\({3}\\) years at an interest rate of \\({4.2}\\%\\). What is the \
    monthly interest rate?",
    answers: {
      a: '\\({0.0035}\\%\\)<br>',
      b: '\\({0.35}\\%\\)<br>',
      c: '\\({4.2}\\%\\)<br>',
      d: '\\({0.12}\\%\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "14. Majed borrowed money from the bank for \\({SAR}~{25,000}\\) \
    payable in 8 months with \\({7.5}\\%\\) interest. Find the second \
    monthly interest if Majed's monthly payment is \\({SAR}~{3,213.53}\\).",
    answers: {
      a: '\\({SAR}~{136.25}\\)<br>',
      b: '\\({SAR}~{156.25}\\)<br>',
      c: '\\({SAR}~{293.39}\\)<br>',
      d: '\\({SAR}~{137.14}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "15. Ali borrowed \\({SAR}~{5,000}\\) for five months and \
    paid \\({SAR}~{83.33}\\) in interest. Calculate the rate of interest \
    to the nearest tenth of a percent.",
    answers: {
      a: '\\({4.2}\\%\\)<br>',
      b: '\\({3.9}\\%\\)<br>',
      c: '\\({4.0}\\%\\)<br>',
      d: '\\({3.8}\\%\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "16. To finance his home improvement, Habib borrowed \
    \\({SAR}~{210,000}\\) on a 15-month home equity loan. He signed \
    a promissory note bearing interest of \\({7.5}\\%\\). What \
    is the amount due at the end of the agreement?",
    answers: {
      a: '\\({SAR}~{296,870.50}\\)<br>',
      b: '\\({SAR}~{229,687.50}\\)<br>',
      c: '\\({SAR}~{236,250.00}\\)<br>',
      d: '\\({SAR}~{254,090.50}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "17. What is the interest rate on a loan amounting \
    to \\({SAR}~{130,000}\\) if the ordinary interest paid at the \
    end of \\({90}\\) days is \\({SAR}~{1,137.5}\\)?",
    answers: {
      a: '\\({2.5}\\%\\)<br>',
      b: '\\({0.875}\\%\\)<br>',
      c: '\\({3.6}\\%\\)<br>',
      d: '\\({3.5}\\%\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "18. A company loaned \\({SAR}~{210,800}\\) at an interest \
    rate of \\({6.5}\\%\\) for \\({1,000}\\) days with the option \
    between ordinary and exact interest. What is the better option \
    and by how much?",
    answers: {
      a: '\\({exact}~{interest},{SAR}~{521.38}\\)<br>',
      b: '\\({ordinary}~{interest},{SAR}~{521.38}\\)<br>',
      c: '\\({exact}~{interest},{SAR}~{512.38}\\)<br>',
      d: '\\({ordinary}~{interest},{SAR}~{512.38}\\)',
    },
    correctAnswer: 'a'
  },

  {
    question: "19. Count the number of days from March 16 to May 6.",
    answers: {
      a: '\\({53}\\)<br>',
      b: '\\({50}\\)<br>',
      c: '\\({51}\\)<br>',
      d: '\\({52}\\)',
    },
    correctAnswer: 'c'
  },

  {
    question: "20. Find the maturity date of a 60-day note dated March 14.",
    answers: {
      a: '\\({May}~{13}\\)<br>',
      b: '\\({June}~{12}\\)<br>',
      c: '\\({June}~{13}\\)<br>',
      d: '\\({May}~{12}\\)',
    },
    correctAnswer: 'a'
  },
]
var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

generateQuiz(myQuestions, quizContainer, resultsContainer, submitButton);

function generateQuiz(questions, quizContainer, resultsContainer, submitButton){

  function showQuestions(questions, quizContainer){
    var output = [];
    var answers;
    for(var i=0; i<questions.length; i++){
      answers = [];
      for(choices in questions[i].answers){

        answers.push(
          '<label>'
            + '<input type="radio" name="question'+i+'" value="'+choices+'">'+ choices + '. '+ questions[i].answers[choices] + 
            '</label>'
            +'<br>'
        );

      }
      output.push(
        '<div class="question">'  + questions[i].question + '</div>' + '<div class="answers">'  + answers.join('') + '<br>' + '</div>'
      );
    }
    quizContainer.innerHTML = output.join('');

  }


  function showResults(questions, quizContainer, resultsContainer){
    var answerContainers = quizContainer.querySelectorAll('.answers');
    var userAnswer = '';
    var numCorrect = 0;
  
    for(var i=0; i<questions.length; i++){

      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      if(userAnswer===questions[i].correctAnswer){

        numCorrect++;
        answerContainers[i].style.color = 'green';
      }
      else{
        answerContainers[i].style.color = 'red';
      }
    }
    resultsContainer.innerHTML = numCorrect + ' out of ' + questions.length + " or " + (numCorrect/questions.length * 100).toFixed(2) + "%";
  }


  showQuestions(questions, quizContainer);
  
  submitButton.onclick = function(){
    showResults(questions, quizContainer, resultsContainer);
  }

}
